From: Jeremy Lain√© <jeremy.laine@m4x.org>
Subject: fix threading code

Without this patch, pdfshuffler immediately fails with the following error:

    Attempt to unlock mutex that was not locked
    Aborted

A similar issue was reported against reportbug:

    https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=758619

--- a/pdfshuffler/pdfshuffler.py
+++ b/pdfshuffler/pdfshuffler.py
@@ -326,11 +326,9 @@ class PdfShuffler:
   
     def update_thumbnail(self, object, num, thumbnail, resample):
         row = self.model[num]
-        gtk.gdk.threads_enter()
         row[13] = resample
         row[4] = self.zoom_scale
         row[1] = thumbnail
-        gtk.gdk.threads_leave()
 
     def on_window_size_request(self, window, event):
         """Main Window resize - workaround for autosetting of
@@ -1079,7 +1077,6 @@ class PDF_Renderer(threading.Thread,gobj
 
 def main():
     """This function starts PdfShuffler"""
-    gtk.gdk.threads_init()
     gobject.threads_init()
     PdfShuffler()
     gtk.main()
